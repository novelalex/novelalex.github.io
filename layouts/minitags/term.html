{{ define "main" }}
  <style>
    .minis-feed {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .mini-post {
      border: 1px solid;
      border-radius: 0px;
      padding: 1rem 1.25rem;
      background: var(--bg);
    }
    .mini-date {
      color: var(--text-light);
      font-size: 0.85rem;
    }
    .mini-content {
      margin: 0;
      font-size: 1rem;
    }
    .mini-content p:first-child {
      margin-top: 0;
    }
    .mini-content p:last-child {
      margin-bottom: 0;
    }
    .mini-footer {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: 0.5rem;
      margin-top: 0.75rem;
      font-size: 0.85rem;
    }
    .mini-footer a {
      color: var(--accent);
      text-decoration: none;
    }
    .mini-footer a:hover {
      text-decoration: underline;
    }
  </style>
  <content>
    <div class="minis-feed">
      <div style="margin-bottom: 0.5rem;">
        <h3 style="margin: 0;">Filtering for "#{{ .Title }}"</h3>
        <small>
          <a href="{{ relURL "minis" }}">Remove filter</a>
        </small>
      </div>

      {{ $p := .Paginate .Pages }}
      {{ if or $p.HasPrev $p.HasNext }}
        {{- partial "pagination.html" . -}}
      {{ end }}

      {{ range $p.Pages }}
        <article class="mini-post">
          <div class="mini-content">
            {{ .Content }}
          </div>
          <div class="mini-footer">
            <time class="mini-date" datetime="{{ .Date.Format "2006-01-02T15:04:05" }}">
              {{ .Date.Format "Jan 2, 2006 Â· 3:04 PM" }}
            </time>
            {{ with .Params.minitags }}
              {{ range . }}
                <a href="{{ relURL (printf "minitags/%s" .) }}">#{{ . }}</a>
              {{ end }}
            {{ end }}
          </div>
        </article>
      {{ else }}
        <p>No posts yet</p>
      {{ end }}

      {{ if or $p.HasPrev $p.HasNext }}
        {{- partial "pagination.html" . -}}
      {{ end }}
    </div>
  </content>
{{ end }}

